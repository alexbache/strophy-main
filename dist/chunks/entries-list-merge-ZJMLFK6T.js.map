{
  "version": 3,
  "sources": ["../../src/pages/entries/entries-list-merge.ts"],
  "sourcesContent": ["/**\n * Webflow workaround: when a large Collection List is split into multiple lists\n * (e.g. 0-100, 101-200...), Webflow renders separate `.w-dyn-list` blocks.\n *\n * In a 3-column grid, that can create visual \"holes\" at list boundaries.\n * This merges all split lists in the All Entries section into the first list.\n */\nconst SELECTORS = {\n  ALL_ENTRIES_SECTION: '#section-all-entries',\n  ENTRY_WRAPPERS: '.entry-grid_wrapper.w-dyn-list',\n  ENTRY_LISTS: '[data-filter-list-id=\"entries\"]',\n  WEBFLOW_DYN_LIST_WRAPPER: '.w-dyn-list',\n} as const;\n\ntype EntryListTarget = {\n  wrapper: HTMLElement;\n  list: HTMLElement;\n};\n\nfunction mergeChildrenIntoFirst(primary: HTMLElement, sources: EntryListTarget[]) {\n  sources.forEach(({ list }) => {\n    // Move all children to preserve order and existing inline styles.\n    while (list.firstElementChild) {\n      primary.appendChild(list.firstElementChild);\n    }\n  });\n}\n\nfunction hideEmptySourceWrappers(primaryWrapper: HTMLElement | null, sources: EntryListTarget[]) {\n  sources.forEach(({ wrapper }) => {\n    if (wrapper !== primaryWrapper) {\n      wrapper.style.display = 'none';\n    }\n  });\n}\n\nfunction getEntryListTargets(section: Element): EntryListTarget[] {\n  const wrappers = Array.from(section.querySelectorAll(SELECTORS.ENTRY_WRAPPERS)) as HTMLElement[];\n\n  return wrappers\n    .map((wrapper) => {\n      const list = wrapper.querySelector(SELECTORS.ENTRY_LISTS) as HTMLElement | null;\n      return list ? { wrapper, list } : null;\n    })\n    .filter(Boolean) as EntryListTarget[];\n}\n\nconst initEntriesListMerge = () => {\n  const section = document.querySelector(SELECTORS.ALL_ENTRIES_SECTION);\n  if (!section) return;\n\n  const targets = getEntryListTargets(section);\n  if (targets.length <= 1) return;\n\n  const [primary, ...rest] = targets;\n  mergeChildrenIntoFirst(primary.list, rest);\n  hideEmptySourceWrappers(primary.wrapper, rest);\n};\n\nexport { initEntriesListMerge };\n"],
  "mappings": ";;;AAOA,IAAM,YAAY;AAAA,EAChB,qBAAqB;AAAA,EACrB,gBAAgB;AAAA,EAChB,aAAa;AAAA,EACb,0BAA0B;AAC5B;AAOA,SAAS,uBAAuB,SAAsB,SAA4B;AAChF,UAAQ,QAAQ,CAAC,EAAE,KAAK,MAAM;AAE5B,WAAO,KAAK,mBAAmB;AAC7B,cAAQ,YAAY,KAAK,iBAAiB;AAAA,IAC5C;AAAA,EACF,CAAC;AACH;AAEA,SAAS,wBAAwB,gBAAoC,SAA4B;AAC/F,UAAQ,QAAQ,CAAC,EAAE,QAAQ,MAAM;AAC/B,QAAI,YAAY,gBAAgB;AAC9B,cAAQ,MAAM,UAAU;AAAA,IAC1B;AAAA,EACF,CAAC;AACH;AAEA,SAAS,oBAAoB,SAAqC;AAChE,QAAM,WAAW,MAAM,KAAK,QAAQ,iBAAiB,UAAU,cAAc,CAAC;AAE9E,SAAO,SACJ,IAAI,CAAC,YAAY;AAChB,UAAM,OAAO,QAAQ,cAAc,UAAU,WAAW;AACxD,WAAO,OAAO,EAAE,SAAS,KAAK,IAAI;AAAA,EACpC,CAAC,EACA,OAAO,OAAO;AACnB;AAEA,IAAM,uBAAuB,MAAM;AACjC,QAAM,UAAU,SAAS,cAAc,UAAU,mBAAmB;AACpE,MAAI,CAAC,QAAS;AAEd,QAAM,UAAU,oBAAoB,OAAO;AAC3C,MAAI,QAAQ,UAAU,EAAG;AAEzB,QAAM,CAAC,SAAS,GAAG,IAAI,IAAI;AAC3B,yBAAuB,QAAQ,MAAM,IAAI;AACzC,0BAAwB,QAAQ,SAAS,IAAI;AAC/C;",
  "names": []
}
