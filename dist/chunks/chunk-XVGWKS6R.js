import{a as h}from"./chunk-OVAZ6LWC.js";import{a as u}from"./chunk-DCW6JJXJ.js";import{c as f}from"./chunk-NDOT7LF6.js";var p=()=>{let e=document.querySelector("[data-section='hero']");if(!e){console.error('Hero section not found, make sure [data-section="hero"] exists');return}let o=e.querySelectorAll('[data-marquee-clone="true"]');if(!o.length){console.error('No rows needing clone found, make sure [data-marquee-clone="true"] exists');return}o.forEach(r=>{let n=r.cloneNode(!0);r.parentElement?.appendChild(n)})},q=()=>{try{console.log("\u{1F3AC} [Hero Animation] Starting hero intro animation");let e=document.querySelector("[data-section='hero']");if(!e){console.error("\u274C [Hero Animation] Hero section not found for intro animation");return}console.log("\u2705 [Hero Animation] Hero section found");let o=e.querySelector('[data-fade-in="logo-cloud"]'),r=e.querySelector('[data-fade-in="text-marquee"]'),n=e.querySelectorAll('[data-fade-in="image-marquee-row"]');console.log("\u{1F4E6} [Hero Animation] Elements found:",{logoCloud:!!o,textMarquee:!!r,imageMarqueeRows:n.length});let a=document.querySelector(".hero-logo-cloud-loader"),i=document.querySelector(".hero-text-marquee-loader"),t=document.querySelector(".hero-image-marquee-loader");console.log("\u{1F3AD} [Hero Animation] Loaders found:",{logoCloudLoader:!!a,textMarqueeLoader:!!i,imageMarqueeLoader:!!t}),u.set([o,r,n],{opacity:0,y:20}),console.log("\u{1F3A8} [Hero Animation] Initial states set (opacity: 0, y: 20)"),console.log("\u{1F680} [Hero Animation] PHASE 1: Starting immediate reveal (logo cloud)");let c=u.timeline({delay:0});c.to(o,{opacity:1,y:0,duration:.5,ease:"power2.out",onStart:()=>console.log("  \u23F3 Fading in logo cloud"),onComplete:()=>console.log("  \u2705 Logo cloud visible")},0).to(a,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{console.log("  \u2705 Logo cloud loader hidden"),a&&(a.style.display="none")}},0);let m=Array.from(n).slice(0,2),s=[];m.forEach(l=>{let d=l.querySelectorAll("img");s.push(...Array.from(d))}),console.log(`\u{1F4F8} [Hero Animation] PHASE 2: Waiting for ${s.length} images from first 2 rows to load`);let y=s.map((l,d)=>new Promise(g=>{l.complete?(console.log(`  \u2705 Image ${d+1}/${s.length} already loaded`),g(!0)):(l.addEventListener("load",()=>{console.log(`  \u2705 Image ${d+1}/${s.length} loaded`),g(!0)}),l.addEventListener("error",()=>{console.log(`  \u26A0\uFE0F Image ${d+1}/${s.length} failed to load`),g(!0)}))}));Promise.all(y).then(()=>{console.log("\u{1F389} [Hero Animation] All first 2 rows images loaded! Starting marquee reveal");let l=c.duration();c.to(r,{opacity:1,y:0,duration:.5,ease:"power2.out",onStart:()=>console.log("  \u23F3 Fading in text marquee"),onComplete:()=>console.log("  \u2705 Text marquee visible")},l).to(i,{opacity:0,duration:.5,ease:"power2.out",onComplete:()=>{console.log("  \u2705 Text marquee loader hidden"),i&&(i.style.display="none")}},l),c.to(n,{opacity:1,y:0,duration:.6,stagger:.06,ease:"power2.out",onStart:()=>console.log("  \u23F3 Fading in image marquee rows (with stagger)"),onComplete:()=>console.log("\u{1F38A} [Hero Animation] Animation complete!")},l+.15).to(t,{opacity:0,duration:.6,ease:"power2.out",onComplete:()=>{console.log("  \u2705 Image marquee loader hidden"),t&&(t.style.display="none")}},l+.15)})}catch(e){console.error("\u274C [Hero Animation] Error in heroIntroAnimation:",e)}},w=()=>{let e=()=>{try{let o={marqueeRowInner:'[logo-marquee-element="inner-row"]',marqueeRow:'[logo-marquee-element="outer-row"]'},r=document.querySelectorAll(o.marqueeRow),n=document.querySelectorAll(o.marqueeRowInner);if(!f()){r.forEach(a=>{let i=a.querySelector('[data-clone="true"]');if(i)try{i.remove()}catch(t){console.error("Error removing cloned element:",t)}u.killTweensOf(`${o.marqueeRow} > *`);try{Array.from(a.children).forEach(t=>{u.set(t,{xPercent:0})})}catch(t){console.error("Error resetting row positions:",t)}});return}if(!r.length||!n.length)throw console.error('No marquee rows found. Please check that elements with marquee-element="logo-list-wrapper" exist.',{marqueeRows:r,marqueeRowInners:n}),new Error("Marquee rows not found");r.forEach((a,i)=>{let t=n[i],c=a.querySelector('[data-clone="true"]');if(f()&&!c)try{let m=t.cloneNode(!0);m.setAttribute("data-clone","true"),a.appendChild(m),Array.from(a.children).forEach(s=>{u.to(s,{xPercent:-100,ease:"none",duration:90,repeat:-1})})}catch(m){console.error("Error creating mobile marquee effect:",m)}})}catch(o){console.error("Error in initMarquee:",o)}};try{e()}catch(o){console.error("Error during initial marquee setup:",o)}h(e,100,{widthOnly:!0,threshold:10})},I=()=>{p(),w()};if(typeof window<"u"){let e=()=>{if(document.querySelector("[data-section='hero']"))q();else{let r=new MutationObserver(()=>{document.querySelector("[data-section='hero']")&&(r.disconnect(),q())});r.observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(()=>r.disconnect(),5e3)}};document.body?e():document.addEventListener("DOMContentLoaded",e)}export{w as a,I as b};
