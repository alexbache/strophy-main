{
  "version": 3,
  "sources": ["../../src/pages/home/sections/cash-prizes.ts"],
  "sourcesContent": ["import { gsap } from 'gsap';\n\nconst cashPrizes = () => {\n  const SELECTORS = {\n    grandTotal: '#prizes-grand-total',\n    podium1: '#podium-1',\n    podium2: '#podium-2',\n    podium3: '#podium-3',\n    podiumInner: '[podium-element=\"inner\"]',\n    podiumAmount: '[podium-element=\"amount\"]',\n    podiumContainer: '#podium-container',\n  };\n\n  const grandTotalElement = document.querySelector(SELECTORS.grandTotal);\n  const podium1Inner = document.querySelector(`${SELECTORS.podium1} ${SELECTORS.podiumInner}`);\n  const podium2Inner = document.querySelector(`${SELECTORS.podium2} ${SELECTORS.podiumInner}`);\n  const podium3Inner = document.querySelector(`${SELECTORS.podium3} ${SELECTORS.podiumInner}`);\n  const podium1Amount = document.querySelector(`${SELECTORS.podium1} ${SELECTORS.podiumAmount}`);\n  const podium2Amount = document.querySelector(`${SELECTORS.podium2} ${SELECTORS.podiumAmount}`);\n  const podium3Amount = document.querySelector(`${SELECTORS.podium3} ${SELECTORS.podiumAmount}`);\n  const podiumContainer = document.querySelector(SELECTORS.podiumContainer);\n\n  if (\n    !podium1Inner ||\n    !podium2Inner ||\n    !podium3Inner ||\n    !podium1Amount ||\n    !podium2Amount ||\n    !podium3Amount ||\n    !podiumContainer\n  ) {\n    console.error('One or more podium elements not found');\n    return;\n  }\n\n  // Move hasAnimated flags to the top and separate them\n  let podiumsHasAnimated = false;\n  let totalHasAnimated = false;\n\n  // Add this right after the element checks\n  if (!grandTotalElement) {\n    console.error('Prizes grand total element not found');\n    return;\n  }\n\n  // Get the target value for grand total here, before the observers\n  const targetValue = parseInt(grandTotalElement.textContent?.replace(/[^0-9]/g, '') || '0');\n\n  // Create intersection observer for podiums\n  const podiumObserver = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting && !podiumsHasAnimated) {\n          podiumsHasAnimated = true;\n\n          // Animate podium heights to slightly less than original\n          gsap.fromTo(\n            podium1Inner,\n            { height: '0%' },\n            { height: '90%', duration: 1.5, ease: 'power2.out' }\n          );\n          gsap.fromTo(\n            podium2Inner,\n            { height: '0%' },\n            { height: '70%', duration: 1.5, ease: 'power2.out' }\n          );\n          gsap.fromTo(\n            podium3Inner,\n            { height: '0%' },\n            { height: '50%', duration: 1.5, ease: 'power2.out' }\n          );\n\n          // Add hover animations\n          const addHoverAnimation = (element: Element, baseHeight: string) => {\n            element.addEventListener('mouseenter', () => {\n              gsap.to(element, {\n                height: `${parseInt(baseHeight) + 10}%`,\n                duration: 0.3,\n                ease: 'power2.out',\n              });\n            });\n\n            element.addEventListener('mouseleave', () => {\n              gsap.to(element, {\n                height: baseHeight,\n                duration: 0.3,\n                ease: 'power2.out',\n              });\n            });\n          };\n\n          addHoverAnimation(podium1Inner, '90%');\n          addHoverAnimation(podium2Inner, '70%');\n          addHoverAnimation(podium3Inner, '50%');\n\n          // Animate podium amounts\n          const animatePodiumAmount = (element: Element) => {\n            const targetValue = parseInt(element.textContent?.replace(/[^0-9]/g, '') || '0');\n\n            gsap.fromTo(\n              element,\n              {\n                textContent: '0',\n                duration: 0,\n              },\n              {\n                textContent: targetValue,\n                duration: 2,\n                ease: 'power1.out',\n                snap: { textContent: 1 },\n                onUpdate: function () {\n                  const value = Math.floor(\n                    gsap.getProperty(this.targets()[0], 'textContent') as number\n                  );\n                  element.textContent = `$${value.toLocaleString()}`;\n                },\n              }\n            );\n          };\n\n          animatePodiumAmount(podium1Amount);\n          animatePodiumAmount(podium2Amount);\n          animatePodiumAmount(podium3Amount);\n        }\n      });\n    },\n    {\n      threshold: 0.3, // Add threshold to ensure better triggering\n    }\n  );\n\n  // Update grand total observer\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting && !totalHasAnimated) {\n          totalHasAnimated = true;\n\n          gsap.fromTo(\n            grandTotalElement,\n            {\n              textContent: '0',\n              duration: 0,\n            },\n            {\n              textContent: targetValue,\n              duration: 3,\n              ease: 'power1.out',\n              snap: { textContent: 1 },\n              onUpdate: function () {\n                const value = Math.floor(\n                  gsap.getProperty(this.targets()[0], 'textContent') as number\n                );\n                grandTotalElement.textContent = `$${value.toLocaleString()}`;\n              },\n            }\n          );\n        }\n      });\n    },\n    {\n      threshold: 0.3,\n    }\n  );\n\n  // Add cleanup function\n  const cleanup = () => {\n    podiumObserver.disconnect();\n    observer.disconnect();\n  };\n\n  // Observe elements\n  podiumObserver.observe(podiumContainer);\n  observer.observe(grandTotalElement);\n\n  // Clean up on page unload\n  window.addEventListener('unload', cleanup);\n\n  return cleanup; // Return cleanup function for manual cleanup if needed\n};\n\nconst initCashPrizes = () => {\n  cashPrizes();\n};\n\nexport { initCashPrizes };\n"],
  "mappings": "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",
  "names": ["targetValue"]
}
